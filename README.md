# Alternative realization PopArt1
Реализация эффекта, близкого к PopArt1 с сайта BeFunky
---
## Описание алгоритма
---
Реализация данного эффекта состоит из двух частей:
1.  Работа с BGR и HSV пространствами
2.  Отрисовка кругов на изображении с помощью альфа смешивания
---
### Рассмотрим шаги первого этапа алгоритма
* Эффект зависит от передаваемого значения C
* На входе имеется изображение в цветовом пространстве BGR.
* Генерируется фон следующим образом:
  1. Вычисляется интенсивность пикселя (среднее значение цветов r, g, b)
  2. Если интенсивность меньше заданного значения (C), то соответственная точка фона будет иметь значение (255, 0, 0) (BGR), иначе (0, 0, 255)
* Применяем альфа смешивание ко всем цветам пикселя:
  1. `B = AlphaSmooth(B, Background_B, 255 - C)`
  2. `G = AlphaSmooth(G, 255 - Background_G, 255 - C)`
  3. `R = AlphaSmooth(G, Background_R, 255 - C)`
* Вычисляем текущее значения интенсивнсости пикселя и изменяем значение красного следующим образом:

  `Если AVG(B, G, R) < 50 то R = AlphaSmooth(G, 255, (100 - AVG(B, G, R)) * 2)`
* Применяем альфа смешивание следующего вида:
  1. `V - значение пикселя из HSV`
  2. `B = AlphaSmooth(B, 157, 255 - (255 - V) / 8)`
  3. `G = AlphaSmooth(G, 30, 255 - (255 - V) / 8)`
  4. `R = AlphaSmooth(B, 200, 255 - (255 - V) / 8)`
